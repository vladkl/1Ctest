<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="__STYLE__"></link><meta name="GENERATOR" content="MSHTML 8.00.7600.16671"></meta></head><body>
<h1>Трассировки Microsoft SQL Server</h1>
<dl><dt>Содержание 
</dt><dd><a href="#trace_dir">Сетевой каталог трассировки</a> 
<dd><a href="#sql">Microsoft SQL Server</a></dd></dd></dl><h2 id="trace_dir">Сетевой каталог трассировки</h2>
<p>Сетевой каталог трассировки ссылается на локальный каталог трассировки (указанный на шаге "Трассировки"), т.е. сетевой и локальный каталоги трассировки указывают на одно и тоже место, но различными способами. Сетевой каталог трассировки можно не указывать (для работы ЦУП он не нужен), но тогда созданные файлы трассировок не будут удалены.</p>
<p>Если сервер ЦУП и Microsoft SQL Server исследуемой информационной базы находятся на одном компьютере, то в качестве имени сетевого каталога трассировки можно использовать локальное имя каталоага трассировки (частный случай).</p>
<p>Если сервер ЦУП и Microsoft SQL Server исследуемой информационной базы находятся на разных компьютерах, то необходимо, для локального каталога трассировки, <a href="Catalog.ИнформационныеБазы.Template.СетевыеКаталоги/Template">создать сетевой ресурс</a>, который и станет сетевым каталогом трассировки. Затем имя полученного сетевого ресурса нужно указать в качестве имени сетевого каталоага трассировки.</p>
<p>В результате получится сетевой ресурс вида "\\Server1C\Log" (где: Server1C - имя сервера на котором запущен Microsoft SQL Server; Log - имя созданного ранее сетевого ресурса), который необходимо указать в качестве сетевого каталога трассировки.</p>
<p>У пользователей, от имени которых запущены рабочие процессы кластера информационной базы ЦУП, должны быть права чтения и записи в сетевой каталог трассировок, как локально, так и по сети. Локальные права настраиваются в свойствах каталоага на закладке "Security" (безопасность). Сетевые права настраиваются в свойствах каталога на закладке "Sharing" (доступ).</p>
<p></p>
<table style="WIDTH: 100%" class="remark" cellspacing="0" cellpadding="0"><tbody><tr><td> </td>
<td>Рабочие процессы ЦУП</td></tr><tr><td>Право чтения</td>
<td>√</td></tr><tr><td>Право записи</td>
<td>√</td></tr></tbody></table><h2 id="sql">Microsoft SQL Server</h2>
<p>Для пользователей, от имени которых запущены рабочие процессы кластера информационной базы ЦУП, должны быть настроены права доступа к Microsoft SQL Server в соответствии с нижеприведенной инструкцией.</p>
<p>1. Откройте SQL Server Management Studio и подключитесь к Microsoft SQL Server, на котором находится база данных исследуемой информационной базы.</p>
<p>2. Перейдите в раздел "&lt;Instance&gt;\Security\Logins" и создайте новые логины для пользователей, от имени которых запускаются все рабочие процессы кластера информационной базы ЦУП:</p>
<p><img src="_files/New login.png"></img></p>
<p>3. В открывшемся окне, на странице "General" укажите имя настраиваемого пользователя операционной системы:</p>
<p><img src="_files/Настройка логина SQL Server.png"></img></p>
<p>4. Откройте свойства SQL Server:</p>
<p><img src="_files/SQLProp.png" width="303" height="383"></img></p>
<p>5. На странице "Permissions", для созданного логина, установите разрешение "Alter trace":</p>
<p><img src="_files/Alter Trace.png"></img></p></body></html>